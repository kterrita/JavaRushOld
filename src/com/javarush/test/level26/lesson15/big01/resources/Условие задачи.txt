****************************************************************
??????? 15
1. ? CashMachine ?????? ????????? - ???? ? ????????.
public static final String RESOURCE_PATH = "com.javarush.test.level26.lesson16.big01.resources.";
??????????? ???????? ???? ResourceBundle ? ?????? RESOURCE_PATH.

2. ? ?????? CashMachine ?? ?????? ???? ????????????? ResourceBundle.
?????? ?? CashMachine ????????? ? ?????? ? ConsoleHelper, ?????? ????? printExitMessage.

3. ??? ??! ??????? ?????? ???????? ??????????????. ?????? ?? ???? ????? ?? ?????.
????????:
3.1. ????????? ????????? ??????
3.2. ???????? ??????? ??? ?????????? ???????. ????????, ??? ? ??? ???????.
3.3. ???????? ????????? ???????? ?????????.

???? ??????????:
1. ?????????? ? ????????? Command
2. ?????????? ? ?????? ??????????
3. ???????????? ? ????????????
4. ???? ?????? ????? ? ?????
5. ??????, ??? ???????????? ?????? ?? ?????????
6. ??????????? ?? ??? ????? ? ?????? ????? ?????????????
7. ????? ???? ?? ???????? ???????, ??????? ???? ?? ?????????????. ?????? ?????, ?????? ?? ???? ?? ?????? :)
???? ?????-?? ???? ????? ????? ???????, ?? ?? ??????? ??? ???????, ? ?????? ???? ?? ????????.

??????????!


****************************************************************
??????? 14
1. ??? ??????? ?????? ??????? ?????? ??? ?????? ? ??????????????? ???????.

2. ??? ??????? common_en.properties ?????? ??? ?????? ? ConsoleHelper.


****************************************************************
??????? 13
?? ??? ?????????? ? ResourceBundle - ??? ?????.
?????? ?? ?????? ?????????? ???????????, ?.?. ????????? ?????????? ??????

1. ? ?????? ??????? ?????? ???? private ResourceBundle res, ??????? ????????????? ??????????????? ????????

2. ??? ??????? ?????? ??????? ?????? ??? ?????? ? ??????????????? ???????.


****************************************************************
??????? 12
? ??????? 11 ?? ???????????? ????? ????????? ???????? ? ?????, ? ???????? ???????? ???????? ?????? ?????????.
?? ?????? ????? ???? ?????. ?? ????? ?? ?? ?? ???? ??????????! ???? ??????????? ???????? ??? ?????? ????????????,
?? ???????? ???????????? ???? ??????????. ???? ??????? ???? ????????.

??????, ????????? ????? ????? resources, ? ??????? ?? ????? ??????? ???? ????????? ?????.
? ???? ?????? ???? ???? verifiedCards.properties, ? ??????? ?????? ???????? ? ??????.

1. ? LoginCommand ?????? ???? private ResourceBundle validCreditCards.
??? ?????????? ????????????? ??? ???? ??????? ?? ????? verifiedCards.properties.
??????? ? ?????, ??? ??? ???????? ??? ResourceBundle.

2. ?????? ???????????? ?????? ????????? ???????? ? ???? ?? ???????? ??????? ?????? ? ??????? verifiedCards.properties.

3. ?????? ????????? ??????? LoginCommand ? ?????? ?????? main ?????? ????? try-catch


****************************************************************
??????? 11
??????????, ?? ?????????? WithdrawCommand! ???????? ?????????? ????????. ?????? ????? ?????????? ? ???????? ???????.
????????? ???? ??????. ????? ? ??? ???, ?? ? ??? - ????????.
??? ??????????? ????????? ????? ????????????. ???, ???????? API ????????? ??? ?? ?????. ?????? ?????????? ?????????.

????, ??????? ??? ???????? LOGIN ? ??????? ??? ??? ???????.
1. ???????? ? ???????? LOGIN ? ???????=0
2. ???????? ???????????? ???????? ??? ???????? ?? ??????.
? ???????????? ?????? ??? ?????? ???????? ???????? ?????? ?? ??????? - ?????? IllegalArgumentException.
3. ???????? LoginCommand ?? ???????? ? ??????? ?????????, ? ??????? ??????????? ????? ???????? ? ?????
123456789012 ? 1234 ??????????????.
4. ?????????? ????????? ?????? ??? ??????? LoginCommand:
4.1. ???? ???????????? ?? ?????? ???????? ????? ????? ? ??? - ????????? ????????? ????????
4.2. ????????? ? ???????????? 2 ????? - ????? ????????? ?????, ????????? ?? 12 ????, ? ??? - ????????? ?? 4 ????
4.3. ??????? ????? ????????? ? ?????????? ??????, ???? ??? ?????? ????????.
4.4. ???? ?????? ???????, ?? ????????? ?? ?? ???????????? ?????????????? (123456789012 ? 1234).
4.5. ???? ?????? ? ?. 4.4. ????????????????, ?? ????????, ??? ??????????? ?????? ???????.
4.6. ???? ?????? ? ?. 4.4. ?? ????????????????, ?? ????????? ? ?.4.1.


****************************************************************
??????? 10
??????? ?? ???????? ???????? WithdrawCommand - ??? ????? ??????? ????????.

1. ?????????? ????????? ???????? ??? ??????? WithdrawCommand:
1.1. ??????? ??? ?????? (????? ??? ????)
1.2. ???????? ??????????? ??? ???? ??????.
1.3. ???? ???????????? ?? ?????? ?????????? ?????? ?????????:
1.3.1. ????????? ?????? ?????
1.3.2. ???? ??????? ???????????? ??????, ?? ???????? ?? ???? ???????????? ? ????????? ? ?. 1.3.
1.3.3. ?????????, ?????????? ?? ??????? ?? ?????.
??? ????? ? ???????????? ???????? ????? boolean isAmountAvailable(int expectedAmount), ??????? ?????? true, ???? ????? ?????????? ??? ??????.
???? ????????????, ?? ????????? ? ?. 1.3.
1.3.4. ??????? ?????? ?? ?????. ??? ????? ? ???????????? ???????? ?????
Map<Integer, Integer> withdrawAmount(int expectedAmount), ??????? ?????? ????? Map<???????, ??????????>.
???????? ?????? ????? ?????? ???????? ? ?.2.
1.3.5. ??????? ???????????? ????????? ?? ?. 1.3.4. ? ????????? ????:
<?????????>??????? - ??????????
?????????? - ?? ???????? ???????? ? ????????.
??????? ????????? ?? ???????? ??????????.
1.3.6. ??????????? ?????????? NotEnoughMoneyException, ????????? ????? ? ???????? ??????? ? ????????? ? ?. 1.3.

2. ?????? ????????? ?????? withdrawAmount:
2.1. ????????!!! ????? withdrawAmount ?????? ?????????? ??????????? ?????????? ???????, ???????? ?????????? ????????????? ?????.
??????????? ?????? ???????? (use google).
???? ???? ????????? ?????????, ?? ???????????? ???, ? ??????? ???????????? ?????????? ??????? ??????? ????????.
???? ??? ????? 600 ????????? - ??? ????????: 500 + 50 + 50 = 200 + 200 + 200, ?? ?????? ?????? ???????.
??????, ???? ?????? 600
? ???????????? ???? ????????? ????????:
500 - 2
200 - 3
100 - 1
50 - 12
????????? ?????? ???? ?????:
500 - 1
100 - 1
?.?. ????? ??? ???????? (??? ??????????? ?????????? ???????) ????????? 500 ? 100.

2.2. ?? ?? ?? ????? ???? ? ?? ?? ???????? ???????? ????????? ???, ???????
???? ?? ????? ??????? ?????? ????? (?.2.1. ???????), ?? ??????? ??? ??? ???????? ?? ????? ? ????????????.

2.3. ????? withdrawAmount ?????? ?????? NotEnoughMoneyException, ???? ???????? ?????????? ?????? ????????????? ?????.
??????, ???? ?????? 600
? ???????????? ???? ????????? ????????:
500 - 2
200 - 2
????????? - ??????? ?????????? ?????????? ?????? ????????????? ?????. ?????? ??????????.
?? ????????, ??? ? ????????? ??????? ?????? ???????? ConcurrentModificationException.


****************************************************************
??????? 9
??????? ?? ???????? ???????? ExitCommand.
1. ?????????? ????????? ?????? ? ??????? ExitCommand:
1.1. ????????, ????????????? ?? ???????????? ????? ????? - ???????? <y,n>.
1.2. ???? ???????????? ?????????? ???? ?????????, ?? ??????????? ? ???.

??? ?? ??????, ?? ?????? ??????, ????? ?????? ????? ???????? ????????, ????????, ???? ???????????? ?????? ? ??????? ????????.
??? ????? ? ??? ???? InterruptOperationException.
2.?????????? ????????? ??????:
2.1. ???? ???????????? ? ????? ????? ???? ????? 'EXIT' ????? ?????????, ?? ????????? InterruptOperationException.
2.2. ??????? ???????????? ?????, ???? ????? ???????? ??? ??????. ?????????? ?????????? ? ???? ???????????? ??????.

3. ????????? ???? ?????? main ? try-catch ? ??????????? ?????????? InterruptOperationException.
???????????? ? ????????????? ? ????? catch ????????? ConsoleHelper.


****************************************************************
??????? 8
???? ???????? ? ??????? ??? main, ?? ????? ??? ????? ?????, ???? ?? ?????? ????.

1. ?????????? ?????? ?? main ? DepositCommand ? InfoCommand
????????, ??? ??? ????? ? main? ????, ? ??????? ?????????? ???????? ? ????????????, ? ????? ???????? ????? ? CommandExecutor.
? ??? ?? ?????????????... ???? ?? ????????? ??????? ?????? ?? ?????.
??????? ????, ???? ?? ???? do-while. ??????? ?????? - ???????? EXIT.

2. ??????? ???????? ????? ? ???????? ???? ?? EUR 100 2 ? USD 20 6, ? ????????? ?? INFO.
?????? ?? ???????, ?.?. ????????? 2 ????????????: ?????? ??? EUR, ?????? ??? USD.
??????? ??????? ?????? InfoCommand. ???? ??????? ?????? ?? ??????? ????????????.

2.1. ? ?????? CurrencyManipulatorFactory ???????? ??????????? ????? getAllCurrencyManipulators(), ??????? ?????? ??? ????????????.
? ??? ??? ???????????? ???????? ? ?????, ?? ??? ??? ???? ???, ?? ???????????.
2.2. ? InfoCommand ? ????? ???????? [??? ?????? - ????? ????? ????? ??? ????????? ??????]
???????? ????? ? ???????? ???? ?? EUR 100 2 ? USD 20 6, ? ????????? ?? INFO.
??? ???????? ??????????
 EUR - 200
 USD - 120
???????!

3. ???????? ????? ? ????? ?????? ????????? ???????? INFO. ?????? ?? ??????? ?????????.
???????? ? ??????????? ????? boolean hasMoney(), ??????? ????? ??????????, ????????? ?? ?????-?? ???????? ??? ???.

4. ? InfoCommand ??????????? ????? ?.3. ? ???????? ????? "No money available.", ???? ??? ?????.


****************************************************************
??????? 7
???????????? ? ???????? Command.

1. ???????? ????? command, ? ??? ????? ??? ??????, ??????????? ? ???? ??????.
????????? ??? ????????????? ??????? ??? ???? ??????? ? ???? ??????.

2. ???????? ????????? Command ? ??????? void execute().

3. ??? ?????? ???????? ???????? ?????-???????, ??????????????? ???????? Command.
????? ??????? DepositCommand, InfoCommand, WithdrawCommand, ExitCommand

4. ???????? public ????? CommandExecutor, ????? ??????? ????? ????? ????????????????? ?? ????? ?????????.
???????? ??? ??????????? ????? Map<Operation, Command>, ??????? ????????????????? ????? ?????????? ??? ?????????? ? ?????????.

4.1 ???????? ????? public static final void execute(Operation operation), ??????? ????? ??????? ????? execute ? ?????? ???????.
?????????? ??? ??????.
4.2. ?????????? ????????? ???????????? ??????? ????????, ??? ???????????? ????? ????? - ??? ????? execute.

?????????, ???? ????????? ??????????????? ?????? ?? ???????.
?????? ????? ?????????? ? ????????? ?????.


****************************************************************
??????? 6
????? ????????????? ??? ? ???????????? ? ????????? Command, ????? ???????? ? ???? ????????? ?????????? ?????? ????.
? ??? ???? ??? ????? ?????: 1) ??? ???????? DEPOSIT, 2) ??? ???????? INFO.
??? ???????????? ? ?????? main. ????? ?? ????? ??????????.
????? ??????? ???, ????? ???????????? ??? ???????, ????? ???????? ?? ?????? ?????? ????? ?????????.

1. ? ???? Operation ???????? ??????????? ????? Operation getAllowableOperationByOrdinal(Integer i)
?????? ?????????? ??????? ?????: ??? 1 - INFO, 2 - DEPOSIT, 3 - WITHDRAW, 4 - EXIT;
?? ???????????? ?????? ??????? IllegalArgumentException

2. ? ?????? ConsoleHelper ?????????? ?????? ???????????? ?????? Operation askOperation()
???????? ? ???????????? ????????.
???? ???????????? ?????? 1, ?? ?????????? ??????? INFO, 2 - DEPOSIT, 3 - WITHDRAW, 4 - EXIT;
??????????? ?????, ????????? ? ?.1.
????????? ?????????? - ??????? ?????? ?? ???????? ????????.


****************************************************************
??????? 5
1.? ?????????? ????? ?? ??????????? ???????? ?????? ???????? DEPOSIT.
?? ?????????? ????????? ??? ? ?? ???????.
??????? ???????? ? ???????????? ????? int getTotalAmount(), ??????? ????????? ????? ????? ????? ??? ????????? ??????.

2. ??????? ????? ?????? getTotalAmount() ? ????? main.
?? ???????? ?????? ????? ???????? ??????.
?????, ??? ????? getTotalAmount() ??????? ??, ??? ??? ?????????? ??? ???????? INFO.
??????? ?????? ????? ?????????? ????????????.
!!??????? ??????? Command.
??????, ????? ????????????? ????? ??? ??????????? ? ????? ???????. ?? ?? ???? ?? ??????.


****************************************************************
??????? 4
1. ??????? ????????, ? ??????? ?? ?????? ??????.
????????. ? ????????? ??? ????? ???, ??????? INFO ? WITHDRAW ?????????? ?? ?????????.
?????? ? ???????? DEPOSIT - ????????? ??????.
??????? ? ??????? ??? ??????, ????? ??????? ??????? ? ?????????? ???????, ? ????? ??????? ?? ? ???????????.

2. ????? ??????? ??? ??????, ??????? ??????????? ????? String askCurrencyCode() ? ConsoleHelper.
???? ????? ?????? ?????????? ???????????? ?????? ??? ??????, ?????????, ??? ??? ???????? 3 ???????.
???? ?????? ???????????, ?? ???????? ?? ???? ???????????? ? ?????????.
???? ?????? ???????, ?? ????????? ??? ? ??????? ??????? ? ???????.

3. ????? ??????? ??????? ? ?????????? ???????, ??????? ??????????? ????? String[] getValidTwoDigits(String currencyCode) ? ConsoleHelper.
???? ????? ?????? ?????????? ???????????? ?????? ??? ????? ????????????? ?????.
?????? ????? - ???????, ?????? - ?????????? ???????.
??????? ??????????? ?? ??????? ???. ?.?. 1200 - ??? ?????????? ???????.
???? ?????? ???????????, ?? ???????? ?? ???? ???????????? ? ?????????.
?????? ???????? ??????:
200 5

4. ? ?????? CurrencyManipulator ???????? ????? void addAmount(int denomination, int count),
??????? ??????? ????????? ??????? ? ?????????? ???????

5. ???? ??? ??????? ?????????? ? ????????.
? ?????? main ?????????? ?????? ?????? 1.
??????, ????? ?? ???? ??????? ? ??????? ?? ??????? ???????, ?????? ? ????? main ?????? ???????? Locale.setDefault(Locale.ENGLISH);
?????????, ???????, ???????.


****************************************************************
??????? 3
1. ???????? ????? CurrencyManipulator, ??????? ????? ??????? ??? ?????????? ??? ????????? ??????.
String currencyCode - ??? ??????, ????????, USD. ??????? ?? ???? ????
Map<Integer, Integer> denominations - ??? Map<???????, ??????????>
????? ????? ???? ??????????, ? ????? ?????? ????????? ???????????, ??????? ?????? ??? currencyCode
????????, ??? ??????????? ????? ?? ????? ??????????????? ??? ???????? ??????,
??????? ??????? ??????????? ? ???? ?????????? ? ????????????????? currencyCode

2. ????? ????? ???? ?????????, ??????? ??? ??????????? ???????, ??????? ????? ????????? ? ??????? ????????????.
???????? ????? CurrencyManipulatorFactory ?? ??????????? ??????? getManipulatorByCurrencyCode(String currencyCode).
? ???? ?????? ????? ????????? ?????? ???????????, ???? ?? ??? ?? ??????????, ???? ?????????? ????? ?????????.
?????????, ??? ????? ??????? ??? ????????????.
???????? ???, ????? ?????????? ???? ????????? ??????? CurrencyManipulatorFactory ??????


****************************************************************
??????? 2
1. ???????? ? ConsoleHelper ??? ??????????? ??????:
1.1 writeMessage(String message), ??????? ????? ?????? ? ??????? ???? ?????????
1.2 String readString(), ??????? ????? ????????? ? ??????? ?????? ? ?????????? ??.
 ???? ????????? ?????-?? ?????????? ??? ?????? ? ????????, ?? ?? ????? ??? ????????????.
??????, ???????? ?????? ???? ????????? BufferedReader-?

2. ???????? ????? exception, ? ??????? ???????? ??? checked ??????????:
2.1 InterruptOperationException ????? ??????, ????? ????? ???????? ??????? ???????? ? ????? ?? ??????????
2.2 NotEnoughMoneyException ????? ??????, ????? ?? ?????? ?????? ????????????? ?????


****************************************************************
??????? 1

????? ??????? ???????? ?????? ?????????.
????????, ??????? ????? ????????????, ?????????:
????????? ??????, ????? ??????, ???????? ????????? ?????????.
????? ????? ???????????? ????????????????.
???????? ????? ??????????? ????, ??????? ???????? ? ????????.
???? ??? ?????? ????????? ????? ????? ???????????? ???????, ?? ??????? ????? ?? ????.
???????, ??? ?? ?????? ???? user friendly, ??????? ???????? ???????? ???????.

????..
1. ???????? ????? CashMachine ? ??????? main.
2. ???? ???????? ??????? ? ????? Operation: INFO, DEPOSIT, WITHDRAW
?.?. ?? ?????? ???? user friendly, ?? ?? ????? ?? ?????????? ???? ??????????? ? ??????.
??????? ??????? ??? ???????? EXIT
3. ?.? ?? ????? ??????? ???????? ? ??????, ?? ????? ????? ?????????? ??????.
????? ?????? ? ???????? ????????????? ? ????? ?????, ???????? ????? ConsoleHelper